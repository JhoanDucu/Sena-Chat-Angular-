<div class="row Botones">
    <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button"
                role="tab" aria-controls="home" aria-selected="true" (click)="mostrarGrupos()">
                <i class="bx bxs-group"></i>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button"
                role="tab" aria-controls="profile" aria-selected="false" (click)="mostrarPrivados()">
                <i class="bx bxs-user"></i>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                <i class='bx bxs-message-square-dots'></i>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button"
                role="tab" aria-controls="contact" aria-selected="false">
                <i class="bx bxs-cog"></i>
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#salir" type="button"
                role="tab" aria-controls="contact" aria-selected="false">
                <i class="bx bxs-door-open"></i>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button"
                role="tab" aria-controls="contact" aria-selected="false">
                <i class="bx bxs-help-circle"></i>
            </button>
        </li>
    </ul>
    <div class="input-group flex-nowrap" id="buscarGrupos">
        <label for="buscar" class="input-group-text" id="addon-wrapping"><i class='bx bx-search-alt-2'></i></label>
        <input id="buscar" type="text" class="form-control" placeholder="Username" aria-label="Username"
            aria-describedby="addon-wrapping" [(ngModel)]="valorBuscar" (keyup)="busqueda()">
    </div>
    <div class="tab-content" id="myTabContent">
        @if (valorBuscar.trim()) {
        <div class="tab-pane fade show active" *appChat="changes">
            <h1>Grupos</h1>
            @for (i of coincidencias.Grupos; track i) {
            <h4 class="text-center">{{ coincidencias.Grupos[coincidencias.Grupos.indexOf(i)] }}</h4>
            <br>
            }
            <h1>Privados</h1>
            @for (i of coincidencias.Privados; track i) {
            <h4 class="text-center">{{ coincidencias.Privados[coincidencias.Privados.indexOf(i)] }}</h4>
            <br>
            }
        </div>
        @if (coincidencias.resultados == false) {
        <h2>Sin resultados de busqueda</h2>
        }
        } @else {
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="grupos" id="grupos" role="tablist">
                <div class="list-group" id="list-tab" role="tablist">
                    <a class="list-group-item list-group-item-action">GRUPOS</a>
                    @for ( g of grupos; track g.id_grupos) {
                    @if (selected.grupo == g.id_grupos) {
                    <a class="list-group-item list-group-item-action active" id="list-profile-list"
                        data-bs-toggle="list" (click)="seleccionarEnGrupos(g.id_grupos)" href="#list-profile" role="tab"
                        aria-controls="list-profile">{{ g.nom_grupos }}</a>
                    } @else {
                    <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                        (click)="seleccionarEnGrupos(g.id_grupos)" href="#list-profile" role="tab"
                        aria-controls="list-profile">{{ g.nom_grupos }}</a>
                    }
                    }
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <div class="privados" id="privados" role="tablist">
                <div class="list-group" id="list-tab" role="tablist">
                    <a class="list-group-item list-group-item-action">PRIVADOS</a>
                    @for (p of privados; track p.id_grupos) {
                    @if (selected.grupo == p.id_grupos) {
                    <a class="list-group-item list-group-item-action active" id="list-profile-list"
                        data-bs-toggle="list" (click)="seleccionarEnGrupos(p.id_grupos)" role="tab"
                        aria-controls="list-profile">{{ p.nom_grupos }}</a>
                    } @else {
                    <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                        (click)="seleccionarEnGrupos(p.id_grupos)" role="tab" aria-controls="list-profile">{{
                        p.nom_grupos }}</a>
                    }
                    }
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
            3
        </div>
        }
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Mensajes a varias fichas ðŸ˜Š</h5> 
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        @for (g of grupos; track g.id_grupos) {
                            <div>
                                <input class="form-check-input" type="checkbox" id="variasFichas" value="" aria-label="...">
                                <label for="checkboxNoLabel">{{ g.id_ficha }}</label>
                            </div>                              
                        }
                    </div>
                    <div class="modal-footer">
                        <input type="text" placeholder="Escribe el mensaje...">
                        <button type="button" class="btn btn-primary">
                            <i class="bx bxs-send" id="iconoEnviar"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>